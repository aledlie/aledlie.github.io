{% comment %}
Creative Work schema for individual projects and technical articles
This can be used on project pages or technical blog posts
Usage: Include this on pages that represent creative or technical works
{% endcomment %}
{% if page.categories contains 'project' or page.categories contains 'technical' or page.layout == 'project' %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": ["CreativeWork", "SoftwareSourceCode"],
  "@id": "{{ page.url | absolute_url }}#creativework",
  "name": "{{ page.title }}",
  "description": "{{ page.excerpt | default: page.description | strip_html | truncate: 160 }}",
  "url": "{{ page.url | absolute_url }}",
  {% if page.header.image or page.header.overlay_image or page.header.teaser -%}
  "image": {
    "@type": "ImageObject",
    "url": "{{ page.header.image | default: page.header.overlay_image | default: page.header.teaser | absolute_url }}",
    "width": 1200,
    "height": 630
  },
  {% endif -%}
  "author": {
    "@id": "{{ site.url }}/#person"
  },
  "creator": {
    "@id": "{{ site.url }}/#person"
  },
  {% if page.date -%}
  "dateCreated": "{{ page.date | date_to_xmlschema }}",
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  {% endif -%}
  {% if page.last_modified_at -%}
  "dateModified": "{{ page.last_modified_at | date_to_xmlschema }}",
  {% else -%}
  "dateModified": "{{ page.date | default: site.time | date_to_xmlschema }}",
  {% endif -%}
  "inLanguage": "{{ site.locale | default: 'en-US' }}",
  "license": "https://opensource.org/licenses/MIT",
  {% if page.github_repo -%}
  "codeRepository": "{{ page.github_repo }}",
  {% endif -%}
  {% if page.technologies -%}
  "programmingLanguage": {{ page.technologies | jsonify }},
  {% endif -%}
  "genre": "{{ page.categories | default: 'Software Development' | join: ', ' }}",
  {% if page.tags -%}
  "keywords": "{{ page.tags | join: ', ' }}",
  {% endif -%}
  "isPartOf": {
    "@type": "Blog",
    "@id": "{{ site.url }}/#blog"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ page.url | absolute_url }}"
  },
  "publisher": {
    "@id": "{{ site.url }}/#person"
  },
  "copyrightHolder": {
    "@id": "{{ site.url }}/#person"
  },
  "copyrightYear": "{{ page.date | default: site.time | date: '%Y' }}",
  "creativeWorkStatus": "Published",
  "accessMode": ["textual", "visual"],
  "accessModeSufficient": "textual",
  "accessibilityFeature": ["structuralNavigation", "readingOrder"],
  "accessibilityHazard": "none"
}
</script>
{% endif %}