{% comment %}
Enhanced homepage schema with comprehensive website and person information
This replaces the basic schema.html for the homepage with more detailed structured data
{% endcomment %}
{% if page.url == '/' %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": "{{ site.url }}/#website",
      "url": "{{ site.url }}/",
      "name": "{{ site.title }}",
      "alternateName": "{{ site.author.name }}'s Personal Blog",
      "description": "{{ site.description }}",
      "inLanguage": "{{ site.locale | default: 'en-US' }}",
      "isAccessibleForFree": true,
      "publisher": {
        "@id": "{{ site.url }}/#person"
      },
      "author": {
        "@id": "{{ site.url }}/#person"  
      },
      "copyrightHolder": {
        "@id": "{{ site.url }}/#person"
      },
      "copyrightYear": "{{ site.time | date: '%Y' }}",
      "dateModified": "{{ site.time | date_to_xmlschema }}",
      "mainEntity": {
        "@id": "{{ site.url }}/#person"
      },
      "about": [
        "Software Development",
        "Technology Consulting", 
        "Machine Learning",
        "Artificial Intelligence",
        "Technical Writing",
        "Business Automation"
      ],
      "keywords": "software development, technology, machine learning, AI, consulting, technical writing, automation",
      "potentialAction": [
        {
          "@type": "SearchAction",
          "target": {
            "@type": "EntryPoint", 
            "urlTemplate": "{{ site.url }}/search/?q={search_term_string}"
          },
          "query-input": "required name=search_term_string"
        },
        {
          "@type": "ReadAction",
          "target": "{{ site.url }}/posts/",
          "name": "Read Blog Posts"
        },
        {
          "@type": "ViewAction",
          "target": "{{ site.url }}/projects/",
          "name": "View Projects"
        }
      ]
    },
    {
      "@type": "Person",
      "@id": "{{ site.url }}/#person",
      "name": "{{ site.author.name }}",
      "alternateName": ["{{ site.social.name | default: site.author.name }}", "Alyshia"],
      "url": "{{ site.url }}/",
      {% if site.author.avatar -%}
      "image": {
        "@type": "ImageObject",
        "url": "{{ site.author.avatar | absolute_url }}",
        "width": 400,
        "height": 400
      },
      {% endif -%}
      {% if site.author.bio -%}
      "description": "{{ site.author.bio }}",
      {% endif -%}
      {% if site.author.location -%}
      "homeLocation": {
        "@type": "Place",
        "name": "{{ site.author.location | split: ' | ' | first | default: site.author.location }}"
      },
      {% endif -%}
      {% if site.author.email -%}
      "email": "{{ site.author.email }}",
      {% endif -%}
      "jobTitle": ["Software Developer", "Technology Consultant", "Writer"],
      "worksFor": [
        {
          "@type": "Organization",
          "name": "Integrity Studios", 
          "url": "https://integritystudio.notion.site"
        },
        {
          "@type": "Organization",
          "name": "InventoryAI.io",
          "url": "https://amazing-froyo-8f05e0.netlify.app/"
        }
      ],
      "knowsAbout": [
        "Software Development",
        "Web Development",
        "Machine Learning", 
        "Artificial Intelligence",
        "Technology Consulting",
        "Business Automation",
        "Technical Writing",
        "Open Source Software"
      ],
      {% if site.author.links -%}
      "sameAs": [
        {% for link in site.author.links -%}
          {% if link.url -%}
            "{{ link.url }}"{% unless forloop.last %},{% endunless %}
          {% endif -%}
        {% endfor -%}
      ],
      {% endif -%}
      "owns": {
        "@id": "{{ site.url }}/#website"
      },
      "mainEntityOfPage": {
        "@type": "ProfilePage",
        "@id": "{{ site.url }}/about/"
      }
    },
    {
      "@type": "Blog", 
      "@id": "{{ site.url }}/#blog",
      "url": "{{ site.url }}/",
      "name": "{{ site.title }} - Blog",
      "description": "{{ site.description }}",
      "inLanguage": "{{ site.locale | default: 'en-US' }}",
      "author": {
        "@id": "{{ site.url }}/#person"
      },
      "publisher": {
        "@id": "{{ site.url }}/#person"
      },
      "isPartOf": {
        "@id": "{{ site.url }}/#website"
      },
      "about": [
        "Software Development",
        "Technology",
        "Machine Learning", 
        "Artificial Intelligence",
        "Technical Writing"
      ],
      "blogPost": [
        {% for post in site.posts limit: 5 -%}
        {
          "@type": "BlogPosting",
          "@id": "{{ post.url | absolute_url }}",
          "headline": "{{ post.title }}",
          "datePublished": "{{ post.date | date_to_xmlschema }}"
        }{% unless forloop.last %},{% endunless %}
        {% endfor -%}
      ]
    }
  ]
}
</script>
{% endif %}