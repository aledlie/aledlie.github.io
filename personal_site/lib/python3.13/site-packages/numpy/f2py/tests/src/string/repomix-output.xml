This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
char.f90
fixed_string.f90
gh24008.f
gh24662.f90
gh25286_bc.pyf
gh25286.f90
gh25286.pyf
scalar_string.f90
string.f
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="char.f90">
MODULE char_test

CONTAINS

SUBROUTINE change_strings(strings, n_strs, out_strings)
    IMPLICIT NONE

    ! Inputs
    INTEGER, INTENT(IN) :: n_strs
    CHARACTER, INTENT(IN), DIMENSION(2,n_strs) :: strings
    CHARACTER, INTENT(OUT), DIMENSION(2,n_strs) :: out_strings

!f2py INTEGER, INTENT(IN) :: n_strs
!f2py CHARACTER, INTENT(IN), DIMENSION(2,n_strs) :: strings
!f2py CHARACTER, INTENT(OUT), DIMENSION(2,n_strs) :: strings

    ! Misc.
    INTEGER*4 :: j


    DO j=1, n_strs
        out_strings(1,j) = strings(1,j)
        out_strings(2,j) = 'A'
    END DO

END SUBROUTINE change_strings

END MODULE char_test
</file>

<file path="fixed_string.f90">
function sint(s) result(i)
   implicit none
   character(len=*) :: s
   integer :: j, i
   i = 0
   do j=len(s), 1, -1
    if (.not.((i.eq.0).and.(s(j:j).eq.' '))) then
      i = i + ichar(s(j:j)) * 10 ** (j - 1)
    endif
   end do
   return
 end function sint

 function test_in_bytes4(a) result (i)
   implicit none
   integer :: sint
   character(len=4) :: a
   integer :: i
   i = sint(a)
   a(1:1) = 'A'
   return
 end function test_in_bytes4

 function test_inout_bytes4(a) result (i)
   implicit none
   integer :: sint
   character(len=4), intent(inout) :: a
   integer :: i
   if (a(1:1).ne.' ') then
     a(1:1) = 'E'
   endif
   i = sint(a)
   return
 end function test_inout_bytes4
</file>

<file path="gh24008.f">
SUBROUTINE GREET(NAME, GREETING)
      CHARACTER NAME*(*), GREETING*(*)
      CHARACTER*(50) MESSAGE

      MESSAGE = 'Hello, ' // NAME // ', ' // GREETING
c$$$      PRINT *, MESSAGE

      END SUBROUTINE GREET
</file>

<file path="gh24662.f90">
subroutine string_inout_optional(output)
    implicit none
    character*(32), optional, intent(inout) :: output
    if (present(output)) then
      output="output string"
    endif
end subroutine
</file>

<file path="gh25286_bc.pyf">
python module _char_handling_test
    interface
    subroutine charint(trans, info)
        callstatement (*f2py_func)(&trans, &info)
        callprotoargument char*, int*

        character, intent(in), check(*trans=='N'||*trans=='T'||*trans=='C') :: trans = 'N'
        integer intent(out) :: info

    end subroutine charint
    end interface
end python module _char_handling_test
</file>

<file path="gh25286.f90">
subroutine charint(trans, info)
    character, intent(in) :: trans
    integer, intent(out) :: info
    if (trans == 'N') then
        info = 1
    else if (trans == 'T') then
        info = 2
    else if (trans == 'C') then
        info = 3
    else
        info = -1
    end if

end subroutine charint
</file>

<file path="gh25286.pyf">
python module _char_handling_test
    interface
    subroutine charint(trans, info)
        callstatement (*f2py_func)(&trans, &info)
        callprotoargument char*, int*

        character, intent(in), check(trans=='N'||trans=='T'||trans=='C') :: trans = 'N'
        integer intent(out) :: info

    end subroutine charint
    end interface
end python module _char_handling_test
</file>

<file path="scalar_string.f90">
MODULE string_test

  character(len=8) :: string
  character string77 * 8

  character(len=12), dimension(5,7) :: strarr
  character strarr77(5,7) * 12

END MODULE string_test
</file>

<file path="string.f">
C FILE: STRING.F
      SUBROUTINE FOO(A,B,C,D)
      CHARACTER*5 A, B
      CHARACTER*(*) C,D
Cf2py intent(in) a,c
Cf2py intent(inout) b,d
      A(1:1) = 'A'
      B(1:1) = 'B'
      C(1:1) = 'C'
      D(1:1) = 'D'
      END
C END OF FILE STRING.F
</file>

</files>
